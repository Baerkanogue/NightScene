[gd_resource type="VisualShader" load_steps=50 format=3 uid="uid://d1lykn6h2myh"]

[ext_resource type="Texture2D" uid="uid://b8xebeukbrkak" path="res://assets/stars_instance.png" id="1_4cbug"]
[ext_resource type="Gradient" uid="uid://yq1i5b6sueqv" path="res://shaders/stars_gradient.tres" id="1_o4i5q"]
[ext_resource type="Texture2D" uid="uid://qk02ypa3f7cg" path="res://assets/stars_mask.png" id="2_o4i5q"]

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_5lq73"]
function = 1

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_gdum4"]
constant = 5.0

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_4wm5j"]
linked_parent_graph_frame = 3
parameter_name = "Albedo"
texture_type = 1
texture_filter = 1
texture_repeat = 1

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_tbggt"]
linked_parent_graph_frame = 8
parameter_name = "Mask"
texture_type = 1
texture_filter = 1
texture_repeat = 1

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_akwc0"]
linked_parent_graph_frame = 3
source = 5
texture_type = 1

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_4cbug"]
linked_parent_graph_frame = 6
parameter_name = "Instance"
texture_type = 1
texture_filter = 1
texture_repeat = 1

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_4cbug"]
default_input_values = [1, Vector2(1, 1), 2, Vector2(1, 1)]

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_o4i5q"]
constant = 360.0

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_r8ocp"]
input_name = "time"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_o345y"]
operator = 4

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_tbggt"]
size = Vector2(784, 482)
title = "Albedo"
attached_nodes = PackedInt32Array(2, 12, 32, 34)

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_4cbug"]
operator = 2

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_o345y"]
constant = 0.03

[sub_resource type="FastNoiseLite" id="FastNoiseLite_4cbug"]
noise_type = 3
frequency = 0.0251

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_o4i5q"]
seamless = true
color_ramp = ExtResource("1_o4i5q")
noise = SubResource("FastNoiseLite_4cbug")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_o345y"]
output_port_for_preview = 0
linked_parent_graph_frame = 3
texture = SubResource("NoiseTexture2D_o4i5q")
texture_type = 1

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_r8ocp"]
output_port_for_preview = 0
expanded_output_ports = [0]
linked_parent_graph_frame = 3
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_o345y"]
linked_parent_graph_frame = 39
operator = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_lb50r"]
linked_parent_graph_frame = 39
parameter_name = "EmissionMultiplier"
hint = 1
max = 10.0
default_value_enabled = true
default_value = 1.0

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_4cbug"]
linked_parent_graph_frame = 39
operator = 2

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_r8ocp"]
linked_parent_graph_frame = 39
constant = 8.0

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_o345y"]
size = Vector2(1244, 402)
title = "Emission"
attached_nodes = PackedInt32Array(37, 36, 38, 35, 41, 52)

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_ufcaf"]

[sub_resource type="Gradient" id="Gradient_r8ocp"]
offsets = PackedFloat32Array(0, 0.519841)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_o4i5q"]
noise_type = 3
frequency = 0.031
fractal_type = 0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_r8ocp"]
seamless = true
color_ramp = SubResource("Gradient_r8ocp")
noise = SubResource("FastNoiseLite_o4i5q")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_lb50r"]
texture = SubResource("NoiseTexture2D_r8ocp")
texture_type = 1

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_8tvxs"]
output_port_for_preview = 0
expanded_output_ports = [0]
linked_parent_graph_frame = 39
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_m0gq5"]
output_port_for_preview = 0
operator = 1

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_t8uf6"]
constant = 0.35

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_o4i5q"]
parameter_name = "ShineMaskMultiplier"
hint = 1
max = 3.0
default_value_enabled = true
default_value = 1.0

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_r8ocp"]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_o4i5q"]
operator = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_r8ocp"]
parameter_name = "ShineMaskSpeedMultiplier"
hint = 1
max = 3.0
default_value_enabled = true
default_value = 1.0

[sub_resource type="Gradient" id="Gradient_o4i5q"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_r8ocp"]
gradient = SubResource("Gradient_o4i5q")
fill_from = Vector2(1, 0.824786)
fill_to = Vector2(1, 0.641026)

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_8tvxs"]
output_port_for_preview = 0
texture = SubResource("GradientTexture2D_r8ocp")
texture_type = 1

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_lb50r"]
output_port_for_preview = 0
operator = 1

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_iluh0"]
linked_parent_graph_frame = 6
source = 5
texture = ExtResource("1_4cbug")
texture_type = 1

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_8tvxs"]
parameter_name = "HorizonMaskHeight"
hint = 1
min = -1.0
default_value_enabled = true

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_o4i5q"]
output_port_for_preview = 0
expanded_output_ports = [0]
linked_parent_graph_frame = 39
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_o4i5q"]
input_name = "uv"

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_rj27e"]
size = Vector2(564, 242)
title = "Instance"
attached_nodes = PackedInt32Array(5, 20)

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_hoqlq"]
linked_parent_graph_frame = 8
source = 5
texture = ExtResource("2_o4i5q")
texture_type = 1

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_ktjmb"]
size = Vector2(564, 242)
title = "Mask"
attached_nodes = PackedInt32Array(7, 13)

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_r6wtj"]
input_name = "uv"

[resource]
code = "shader_type spatial;
render_mode blend_add, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx;

uniform sampler2D Albedo : source_color, filter_nearest, repeat_enable;
uniform sampler2D tex_frg_32 : source_color;
uniform float EmissionMultiplier : hint_range(0.0, 10.0) = 1.0;
uniform float ShineMaskSpeedMultiplier : hint_range(0.0, 3.0) = 1.0;
uniform sampler2D tex_frg_40 : source_color;
uniform float ShineMaskMultiplier : hint_range(0.0, 3.0) = 1.0;
uniform sampler2D tex_frg_48 : source_color;
uniform float HorizonMaskHeight : hint_range(-1.0, 1.0) = 0.0;



void fragment() {
// Input:9
	vec2 n_out9p0 = UV;


// FloatConstant:11
	float n_out11p0 = 5.000000;


// UVFunc:10
	vec2 n_in10p2 = vec2(0.00000, 0.00000);
	vec2 n_out10p0 = (n_out9p0 - n_in10p2) * vec2(n_out11p0) + n_in10p2;


	vec4 n_out2p0;
// Texture2D:2
	n_out2p0 = texture(Albedo, n_out10p0);


// Texture2D:32
	vec4 n_out32p0 = texture(tex_frg_32, UV);


// VectorOp:34
	vec3 n_out34p0 = vec3(n_out2p0.xyz) * vec3(n_out32p0.xyz);


// FloatConstant:38
	float n_out38p0 = 8.000000;


// VectorOp:37
	vec3 n_out37p0 = n_out34p0 * vec3(n_out38p0);


// FloatParameter:36
	float n_out36p0 = EmissionMultiplier;


// VectorOp:35
	vec3 n_out35p0 = n_out37p0 * vec3(n_out36p0);


// FloatConstant:31
	float n_out31p0 = 0.030000;


// FloatParameter:47
	float n_out47p0 = ShineMaskSpeedMultiplier;


// FloatOp:46
	float n_out46p0 = n_out31p0 * n_out47p0;


// Input:28
	float n_out28p0 = TIME;


// FloatOp:30
	float n_out30p0 = n_out46p0 * n_out28p0;


// FloatConstant:27
	float n_out27p0 = 360.000000;


// FloatOp:29
	float n_out29p0 = mod(n_out30p0, n_out27p0);


// UVFunc:26
	vec2 n_in26p1 = vec2(1.00000, 1.00000);
	vec2 n_out26p0 = vec2(n_out29p0) * n_in26p1 + UV;


// Texture2D:40
	vec4 n_out40p0 = texture(tex_frg_40, n_out26p0);


// FloatConstant:43
	float n_out43p0 = 0.350000;


// FloatParameter:44
	float n_out44p0 = ShineMaskMultiplier;


// FloatOp:45
	float n_out45p0 = n_out43p0 * n_out44p0;


// VectorOp:42
	vec3 n_out42p0 = vec3(n_out40p0.xyz) - vec3(n_out45p0);


// VectorOp:41
	vec3 n_out41p0 = n_out35p0 * n_out42p0;


// Input:53
	vec2 n_out53p0 = UV;


// Texture2D:48
	vec4 n_out48p0 = texture(tex_frg_48, n_out53p0);


// FloatParameter:50
	float n_out50p0 = HorizonMaskHeight;


// FloatOp:49
	float n_out49p0 = n_out48p0.x - n_out50p0;


// VectorOp:52
	vec3 n_out52p0 = n_out41p0 * vec3(n_out49p0);
	float n_out52p1 = n_out52p0.r;


// FloatConstant:4
	float n_out4p0 = 0.000000;


// Output:0
	ALBEDO = n_out52p0;
	ALPHA = n_out52p1;
	METALLIC = n_out4p0;
	ROUGHNESS = n_out4p0;
	SPECULAR = n_out4p0;
	EMISSION = n_out52p0;
	ALPHA_TEXTURE_COORDINATE = vec2(n_out41p0.xy);


}
"
modes/blend = 1
nodes/fragment/0/position = Vector2(1960, 60)
nodes/fragment/2/node = SubResource("VisualShaderNodeTexture_akwc0")
nodes/fragment/2/position = Vector2(-280, 500)
nodes/fragment/3/node = SubResource("VisualShaderNodeFrame_tbggt")
nodes/fragment/3/position = Vector2(-660, 340)
nodes/fragment/4/node = SubResource("VisualShaderNodeFloatConstant_ufcaf")
nodes/fragment/4/position = Vector2(2200, 180)
nodes/fragment/5/node = SubResource("VisualShaderNodeTexture_iluh0")
nodes/fragment/5/position = Vector2(-1460, -180)
nodes/fragment/6/node = SubResource("VisualShaderNodeFrame_rj27e")
nodes/fragment/6/position = Vector2(-1820, -340)
nodes/fragment/7/node = SubResource("VisualShaderNodeTexture_hoqlq")
nodes/fragment/7/position = Vector2(-200, 20)
nodes/fragment/8/node = SubResource("VisualShaderNodeFrame_ktjmb")
nodes/fragment/8/position = Vector2(-560, -141)
nodes/fragment/9/node = SubResource("VisualShaderNodeInput_r6wtj")
nodes/fragment/9/position = Vector2(-1680, 340)
nodes/fragment/10/node = SubResource("VisualShaderNodeUVFunc_5lq73")
nodes/fragment/10/position = Vector2(-1220, 360)
nodes/fragment/11/node = SubResource("VisualShaderNodeFloatConstant_gdum4")
nodes/fragment/11/position = Vector2(-1600, 480)
nodes/fragment/12/node = SubResource("VisualShaderNodeTexture2DParameter_4wm5j")
nodes/fragment/12/position = Vector2(-620, 380)
nodes/fragment/13/node = SubResource("VisualShaderNodeTexture2DParameter_tbggt")
nodes/fragment/13/position = Vector2(-520, -100)
nodes/fragment/20/node = SubResource("VisualShaderNodeTexture2DParameter_4cbug")
nodes/fragment/20/position = Vector2(-1780, -300)
nodes/fragment/26/node = SubResource("VisualShaderNodeUVFunc_4cbug")
nodes/fragment/26/position = Vector2(-620, 1480)
nodes/fragment/27/node = SubResource("VisualShaderNodeFloatConstant_o4i5q")
nodes/fragment/27/position = Vector2(-1220, 1720)
nodes/fragment/28/node = SubResource("VisualShaderNodeInput_r8ocp")
nodes/fragment/28/position = Vector2(-1400, 1620)
nodes/fragment/29/node = SubResource("VisualShaderNodeFloatOp_o345y")
nodes/fragment/29/position = Vector2(-840, 1580)
nodes/fragment/30/node = SubResource("VisualShaderNodeFloatOp_4cbug")
nodes/fragment/30/position = Vector2(-1060, 1500)
nodes/fragment/31/node = SubResource("VisualShaderNodeFloatConstant_o345y")
nodes/fragment/31/position = Vector2(-1800, 1400)
nodes/fragment/32/node = SubResource("VisualShaderNodeTexture_o345y")
nodes/fragment/32/position = Vector2(-520, 740)
nodes/fragment/34/node = SubResource("VisualShaderNodeVectorOp_r8ocp")
nodes/fragment/34/position = Vector2(-80, 700)
nodes/fragment/35/node = SubResource("VisualShaderNodeVectorOp_o345y")
nodes/fragment/35/position = Vector2(940, 960)
nodes/fragment/36/node = SubResource("VisualShaderNodeFloatParameter_lb50r")
nodes/fragment/36/position = Vector2(520, 1240)
nodes/fragment/37/node = SubResource("VisualShaderNodeVectorOp_4cbug")
nodes/fragment/37/position = Vector2(620, 960)
nodes/fragment/38/node = SubResource("VisualShaderNodeFloatConstant_r8ocp")
nodes/fragment/38/position = Vector2(400, 1100)
nodes/fragment/39/node = SubResource("VisualShaderNodeFrame_o345y")
nodes/fragment/39/position = Vector2(360, 800)
nodes/fragment/40/node = SubResource("VisualShaderNodeTexture_lb50r")
nodes/fragment/40/position = Vector2(-260, 1280)
nodes/fragment/41/node = SubResource("VisualShaderNodeVectorOp_8tvxs")
nodes/fragment/41/position = Vector2(1140, 1080)
nodes/fragment/42/node = SubResource("VisualShaderNodeVectorOp_m0gq5")
nodes/fragment/42/position = Vector2(140, 1360)
nodes/fragment/43/node = SubResource("VisualShaderNodeFloatConstant_t8uf6")
nodes/fragment/43/position = Vector2(-400, 1700)
nodes/fragment/44/node = SubResource("VisualShaderNodeFloatParameter_o4i5q")
nodes/fragment/44/position = Vector2(-440, 1820)
nodes/fragment/45/node = SubResource("VisualShaderNodeFloatOp_r8ocp")
nodes/fragment/45/position = Vector2(-60, 1640)
nodes/fragment/46/node = SubResource("VisualShaderNodeFloatOp_o4i5q")
nodes/fragment/46/position = Vector2(-1380, 1420)
nodes/fragment/47/node = SubResource("VisualShaderNodeFloatParameter_r8ocp")
nodes/fragment/47/position = Vector2(-1800, 1500)
nodes/fragment/48/node = SubResource("VisualShaderNodeTexture_8tvxs")
nodes/fragment/48/position = Vector2(-420, 2140)
nodes/fragment/49/node = SubResource("VisualShaderNodeFloatOp_lb50r")
nodes/fragment/49/position = Vector2(268.173, 2332.33)
nodes/fragment/50/node = SubResource("VisualShaderNodeFloatParameter_8tvxs")
nodes/fragment/50/position = Vector2(-580, 2660)
nodes/fragment/52/node = SubResource("VisualShaderNodeVectorOp_o4i5q")
nodes/fragment/52/position = Vector2(1400, 1120)
nodes/fragment/53/node = SubResource("VisualShaderNodeInput_o4i5q")
nodes/fragment/53/position = Vector2(-1020, 2300)
nodes/fragment/connections = PackedInt32Array(9, 0, 10, 0, 10, 0, 2, 0, 12, 0, 2, 2, 11, 0, 10, 1, 13, 0, 7, 2, 10, 0, 7, 0, 4, 0, 0, 4, 4, 0, 0, 3, 4, 0, 0, 2, 20, 0, 5, 2, 10, 0, 5, 0, 28, 0, 30, 1, 27, 0, 29, 1, 29, 0, 26, 2, 30, 0, 29, 0, 32, 0, 34, 1, 2, 0, 34, 0, 36, 0, 35, 1, 34, 0, 37, 0, 37, 0, 35, 0, 38, 0, 37, 1, 26, 0, 40, 0, 35, 0, 41, 0, 40, 0, 42, 0, 42, 0, 41, 1, 43, 0, 45, 0, 45, 0, 42, 1, 44, 0, 45, 1, 47, 0, 46, 1, 31, 0, 46, 0, 46, 0, 30, 0, 48, 0, 49, 0, 50, 0, 49, 1, 41, 0, 52, 0, 49, 0, 52, 1, 53, 0, 48, 0, 52, 0, 0, 0, 52, 0, 0, 5, 41, 0, 0, 22, 52, 1, 0, 1)
